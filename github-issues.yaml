# Chamaa.API - GitHub Issues organized by Phase/Milestone
# Each issue is tagged with a milestone matching ROADMAP.md phases

issues:
  # ============ PHASE 1: Project Setup ============
  - title: Finalize project README and documentation
    body: Comprehensive README with setup instructions, architecture overview, and deployment guide.
    labels: [docs, phase-1]
    milestone: "Phase 1: Project Setup"

  - title: Write contribution guidelines
    body: CONTRIBUTING.md with commit conventions, PR workflow, and code of conduct.
    labels: [docs, phase-1]
    milestone: "Phase 1: Project Setup"

  - title: Setup GitHub Actions CI/CD
    body: Automated linting, build verification, and test pipeline for Node.js backend.
    labels: [devops, phase-1]
    milestone: "Phase 1: Project Setup"

  # ============ PHASE 2: Backend Foundation ============
  - title: Setup database (PostgreSQL)
    body: Configure PostgreSQL with migrations. Store user profiles and group metadata.
    labels: [backend, database, phase-2]
    milestone: "Phase 2: Backend Foundation"

  - title: Implement user model
    body: Create User schema (id, email, phone, KYC, wallet reference). Firebase Auth integration.
    labels: [backend, phase-2]
    milestone: "Phase 2: Backend Foundation"

  - title: Implement group model
    body: Create Group schema (name, members, rules, contribution minimum, loan deadline).
    labels: [backend, phase-2]
    milestone: "Phase 2: Backend Foundation"

  - title: Implement transaction model
    body: Create Transaction schema (type, amount, timestamp, participant, on-chain hash).
    labels: [backend, phase-2]
    milestone: "Phase 2: Backend Foundation"

  - title: API - User registration & login
    body: Firebase Auth integration. Email/phone based authentication endpoints.
    labels: [backend, auth, api, phase-2]
    milestone: "Phase 2: Backend Foundation"

  - title: API - JWT token management
    body: Secure JWT middleware for protected endpoints. Token refresh logic.
    labels: [backend, auth, api, phase-2]
    milestone: "Phase 2: Backend Foundation"

  # ============ PHASE 3: Blockchain Integration ============
  - title: Setup blockchain connection (Polygon Testnet)
    body: Configure Ethers.js to connect to Polygon Mumbai testnet. Wallet management.
    labels: [blockchain, phase-3]
    milestone: "Phase 3: Blockchain Integration"

  - title: Write basic smart contract (Solidity)
    body: Smart contract for group contribution ledger, withdrawals, and basic loan rules.
    labels: [blockchain, smart-contract, phase-3]
    milestone: "Phase 3: Blockchain Integration"

  - title: Deploy smart contract on testnet
    body: Deploy contract to Polygon Mumbai testnet. Document contract address and ABI.
    labels: [blockchain, deployment, phase-3]
    milestone: "Phase 3: Blockchain Integration"

  - title: Integrate backend with smart contract
    body: Create services to call contract methods from NestJS API using Ethers.js.
    labels: [backend, blockchain, phase-3]
    milestone: "Phase 3: Blockchain Integration"

  - title: API - Make contribution (on-chain + off-chain)
    body: Record contribution both on blockchain and in database. Update wallet balance.
    labels: [backend, api, blockchain, phase-3]
    milestone: "Phase 3: Blockchain Integration"

  - title: API - Withdraw funds
    body: Treasurer approval workflow. Update wallet and record on blockchain.
    labels: [backend, api, blockchain, phase-3]
    milestone: "Phase 3: Blockchain Integration"

  # ============ PHASE 4: Mobile Money & Payments ============
  - title: Integrate M-Pesa Daraja API
    body: Setup M-Pesa sandbox integration. Handle Lipa Na M-Pesa callbacks.
    labels: [payments, backend, phase-4]
    milestone: "Phase 4: Mobile Money & Payments"

  - title: Integrate Airtel Money API
    body: Setup Airtel Money sandbox integration for East African users.
    labels: [payments, backend, phase-4]
    milestone: "Phase 4: Mobile Money & Payments"

  - title: Integrate PayPal REST API
    body: Setup PayPal sandbox for diaspora contributions.
    labels: [payments, backend, phase-4]
    milestone: "Phase 4: Mobile Money & Payments"

  - title: Abstract payment service layer
    body: Create modular PaymentService to support multiple gateways (M-Pesa, Airtel, PayPal).
    labels: [backend, payments, phase-4]
    milestone: "Phase 4: Mobile Money & Payments"

  - title: Webhook handlers for payment callbacks
    body: Process M-Pesa, Airtel, PayPal callbacks. Update wallet balances.
    labels: [backend, payments, phase-4]
    milestone: "Phase 4: Mobile Money & Payments"

  # ============ PHASE 5: Group Management ============
  - title: API - Create group
    body: Endpoint to create new chama group with initial rules and treasurer.
    labels: [backend, api, phase-5]
    milestone: "Phase 5: Group Management"

  - title: API - Join group
    body: Membership request workflow with treasurer approval.
    labels: [backend, api, phase-5]
    milestone: "Phase 5: Group Management"

  - title: API - Define group rules
    body: Set contribution minimums, loan deadlines, penalty rates for group.
    labels: [backend, api, phase-5]
    milestone: "Phase 5: Group Management"

  - title: Smart contract - enforce group rules
    body: Add contract functions to validate contributions against group minimum.
    labels: [blockchain, smart-contract, phase-5]
    milestone: "Phase 5: Group Management"

  # ============ PHASE 6: Loans & Lending ============
  - title: API - Request loan
    body: Submit loan request with amount and purpose. Record on blockchain.
    labels: [backend, api, phase-6]
    milestone: "Phase 6: Loans & Lending"

  - title: API - Loan approval voting
    body: Members vote on loan requests. Record votes on blockchain.
    labels: [backend, api, governance, phase-6]
    milestone: "Phase 6: Loans & Lending"

  - title: API - Disburse loan
    body: Transfer funds to borrower after approval via M-Pesa or blockchain.
    labels: [backend, api, blockchain, phase-6]
    milestone: "Phase 6: Loans & Lending"

  - title: API - Repay loan
    body: Borrower repayment endpoint. Update contract and wallet balance.
    labels: [backend, api, blockchain, phase-6]
    milestone: "Phase 6: Loans & Lending"

  - title: Smart contract - repayment deadlines & penalties
    body: Auto-calculate penalties for late repayments in contract.
    labels: [blockchain, smart-contract, phase-6]
    milestone: "Phase 6: Loans & Lending"

  - title: Backend - cron job for overdue loans
    body: Scheduled job to detect overdue loans and apply penalties.
    labels: [backend, automation, phase-6]
    milestone: "Phase 6: Loans & Lending"

  # ============ PHASE 7: Voting & Governance ============
  - title: Smart contract - voting logic
    body: Implement 1-member-1-vote and weighted voting in contract.
    labels: [blockchain, smart-contract, governance, phase-7]
    milestone: "Phase 7: Voting & Governance"

  - title: API - Submit vote on proposal
    body: Endpoint for members to vote on group decisions.
    labels: [backend, api, governance, phase-7]
    milestone: "Phase 7: Voting & Governance"

  - title: API - Fetch voting results
    body: Get voting results from blockchain and calculate outcomes.
    labels: [backend, api, governance, phase-7]
    milestone: "Phase 7: Voting & Governance"

  - title: Record & display voting history
    body: Store and display immutable voting results in app.
    labels: [governance, backend, phase-7]
    milestone: "Phase 7: Voting & Governance"

  # ============ PHASE 8: Mobile App Features ============
  - title: "Android: User registration & login UI"
    body: Firebase Auth UI (phone/email). Backend sync for user profile.
    labels: [android, auth, ui, phase-8]
    milestone: "Phase 8: Mobile App Features"

  - title: "Android: Wallet dashboard screen"
    body: Display on-chain + off-chain balance. Real-time balance updates.
    labels: [android, ui, phase-8]
    milestone: "Phase 8: Mobile App Features"

  - title: "Android: Create/join group UI"
    body: Group creation form and join group workflow with approval.
    labels: [android, ui, phase-8]
    milestone: "Phase 8: Mobile App Features"

  - title: "Android: Contribution screen"
    body: UI to make contributions via M-Pesa, Airtel, or PayPal.
    labels: [android, ui, payments, phase-8]
    milestone: "Phase 8: Mobile App Features"

  - title: "Android: Loan request form"
    body: Request loan with amount, purpose, and repayment timeline.
    labels: [android, ui, phase-8]
    milestone: "Phase 8: Mobile App Features"

  - title: "Android: Voting screen"
    body: Vote on loan approvals and group decisions with real-time results.
    labels: [android, ui, governance, phase-8]
    milestone: "Phase 8: Mobile App Features"

  - title: "Android: Transaction history screen"
    body: List contributions, loans, repayments. Cached with Room DB.
    labels: [android, ui, phase-8]
    milestone: "Phase 8: Mobile App Features"

  - title: "Android: Push notifications"
    body: Firebase Cloud Messaging for loan approvals, penalties, votes.
    labels: [android, notifications, phase-8]
    milestone: "Phase 8: Mobile App Features"

  # ============ PHASE 9: Security & Compliance ============
  - title: Encrypt sensitive data
    body: Encrypt wallet private keys and API tokens at rest.
    labels: [security, backend, phase-9]
    milestone: "Phase 9: Security & Compliance"

  - title: Role-based access control
    body: Admin vs member permissions. Treasurer vs member endpoints.
    labels: [security, backend, phase-9]
    milestone: "Phase 9: Security & Compliance"

  - title: Fraud prevention
    body: Prevent double spending, duplicate transactions, malicious requests.
    labels: [security, backend, phase-9]
    milestone: "Phase 9: Security & Compliance"

  - title: Audit logging
    body: Log all transactions, approvals, role changes for compliance.
    labels: [security, backend, phase-9]
    milestone: "Phase 9: Security & Compliance"

  - title: GDPR & data privacy compliance
    body: Implement data export, deletion, and privacy controls.
    labels: [security, compliance, phase-9]
    milestone: "Phase 9: Security & Compliance"

  # ============ PHASE 10: Deployment & Release ============
  - title: Dockerize backend + PostgreSQL
    body: Create Dockerfile for NestJS API and docker-compose for full stack.
    labels: [devops, deployment, phase-10]
    milestone: "Phase 10: Deployment & Release"

  - title: Deploy backend to production cloud
    body: Deploy to AWS/GCP/Render. Setup database backups and monitoring.
    labels: [devops, deployment, phase-10]
    milestone: "Phase 10: Deployment & Release"

  - title: Deploy smart contracts to mainnet
    body: Deploy contracts to Ethereum mainnet or Polygon PoS mainnet.
    labels: [blockchain, deployment, phase-10]
    milestone: "Phase 10: Deployment & Release"

  - title: Release Android app to Play Store
    body: Beta release on Google Play Store for public testing.
    labels: [android, deployment, phase-10]
    milestone: "Phase 10: Deployment & Release"

  # ============ TESTING ============
  - title: Write backend unit tests
    body: Jest tests for services, controllers, middleware.
    labels: [testing, backend]
    milestone: "Testing"

  - title: Write backend integration tests
    body: E2E tests (API → DB → Blockchain).
    labels: [testing, backend]
    milestone: "Testing"

  - title: Write Android unit tests
    body: Espresso and unit tests for Android components.
    labels: [testing, android]
    milestone: "Testing"

  - title: Write smart contract tests
    body: Hardhat tests for contract functions.
    labels: [testing, blockchain]
    milestone: "Testing"

  # ============ FUTURE FEATURES ============
  - title: Investment pooling feature
    body: Enable groups to vote on and execute collective investments.
    labels: [feature, governance]
    milestone: "Future Features"

  - title: NFT-based member IDs
    body: Issue NFT identity badges to group members.
    labels: [feature, blockchain]
    milestone: "Future Features"

  - title: Analytics dashboard
    body: Charts for contributions, loans, repayment rates, group growth.
    labels: [feature, analytics]
    milestone: "Future Features"

  - title: Multi-language support (i18n)
    body: Add English, Swahili, French translations.
    labels: [feature, i18n]
    milestone: "Future Features"

  - title: AI-powered credit scoring
    body: Machine learning model to assess loan risk automatically.
    labels: [feature, ai]
    milestone: "Future Features"
